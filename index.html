<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Baloo+Bhai+2:wght@800&family=Oxygen&display=swap"
        rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <title>"nome que eu n sei ainda"</title>
</head>

<body>
    <div class="wrapper">
        <header class="d-flex justify-content-center p-4 gradient">
            <img src="logo.png" alt="Logo">
        </header>

        <main class="px-5 m-5">
            <div class="texto">
                <h1>Seja bem-vindo(a) ao Ultimate Footbal Simulator 3040!</h1>
                <p>Baseando-se numa dinâmica fácil e divertida, Ultimate Football Simulator 3064 é um jogo fácil e
                    simples de entender e jogar! Confira as intruções e regras do jogo ao lado antes de começar!</p>
                <input type="number" name="time" id="time" value="" /><br>
                <input type='button' value='Adicionar times' id="add">
                <div id="partidas"></div>
                <div id="resultadoPartidas"></div> <!-- Adicionando um elemento para exibir resultados -->
            </div>
            <div class="instr px-4 py-3 rounded">
                <div class="d-flex justify-content-between align-items-end mb-2">
                    <h2>Instruções</h2>
                    <img class="icon ml-5" src="Group 6AAAAAAAAAA (1).png" alt="Lâmpada">
                </div>
                <p>Primeiro você faz bla bla bla daí você fazer bla bla bla e quando bla bla bla você faz bla blabla
                    daí você fazer bla bla bla e quando bla bla bla você faz bla bla bla daí você fazer bla bla bla e
                    quando bla bla bla você faz bla bla bla</p>
            </div>
        </main>

        <footer>
        </footer>
    </div>
    <script>
        document.querySelector('#add').addEventListener('click', inserirtimes);

        class Time {
            constructor(nome) {
                this.nome = nome;
            }
        }
        const times = [];

        function inserirtimes() {
            var valorTime = parseInt(document.querySelector("#time").value);

            if (valorTime >= 4 && valorTime <= 20) {
                times.length = 0;

                for (let i = 1; i <= valorTime; i++) {
                    let nomeTime = prompt(`Digite o nome para o Time ${i}:`);
                    let novoTime = new Time(nomeTime);
                    times.push(novoTime);
                }
                let partidas = gerarPartidas(times);
                exibirPartidas(partidas);
            } else {
                alert("Número de times deve estar entre 4 e 20");
            }
        }

        function gerarPartidas(times) {
            let partidas = [];
            for (let i = 0; i < times.length; i++) {
                for (let n = i + 1; n < times.length; n++) {
                    partidas.push([times[i], times[n]]);
                }
            }
            return partidas;
        }

        function exibirPartidas(partidas) {
            let html = '<h2> Partidas que irão acontecer <3</h2>';
            for (let i = 0; i < partidas.length; i++) {
                let partida = partidas[i];
                html += `<p>${partida[0].nome} vs. ${partida[1].nome}</p>`;
            }
            html += '<h2> Defina os resultados<3</h2>';
            html += '<form>';

            for (let i = 0; i < partidas.length; i++) {
                let partida = partidas[i];
                html += `<p> ${partida[0].nome} vs. ${partida[1].nome}: <input type="text" id="resultado${i}" placeholder='resultado'></p>`;
            }
            html += '<input type="submit" value="Registrar resultados">';
            html += '</form>'; // Feche o formulário aqui
            document.getElementById('partidas').innerHTML = html;
            document.querySelector('form').addEventListener('submit', function (e) {
                e.preventDefault();
                const resultadoPartidas = [];
                for (let i = 0; i < partidas.length; i++) {
                    const resultado = document.querySelector(`#resultado${i}`).value;
                    resultadoPartidas.push({ partida: partidas[i], resultado });
                }
                exibirResultados(resultadoPartidas);
            });
        }

        function exibirResultados(resultados) {
            let html = '<h2>Resultados das partidas:</h2>';
            for (let i = 0; i < resultados.length; i++) {
                const partida = resultados[i].partida;
                const resultado = resultados[i].resultado;
                html += `<p>${partida[0].nome} vs. ${partida[1].nome}: ${resultado}</p>`;
            }
            document.getElementById('resultadoPartidas').innerHTML = html;
        }
    </script>
</body>

</html>