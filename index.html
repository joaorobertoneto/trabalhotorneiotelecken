<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <title>"nome que eu n sei ainda"</title>
</head>

<body>
    <div class="wrapper">
        <header>
            <div class="d-flex justify-content-center p-4 mb-5 height-11rem">
                <img src="logo.png" alt="Logo">
            </div>
        </header>
        <h1>Seja bem-vindo(a) ao Ultimate Footbal Simulator 3040!</h1>
        <input type="number" name="time" id="time" value="" /><br>
        <input type='button' value='Adicionar times' id="add">
        <div id="partidas"></div>
        <div id="resultadoPartidas"></div> <!-- Adicionando um elemento para exibir resultados -->
    </div>
    <script>
        document.querySelector('#add').addEventListener('click', inserirtimes);

        class Time {
            constructor(nome) {
                this.nome = nome;
            }
        }
        const times = [];

        function inserirtimes() {
            var valorTime = parseInt(document.querySelector("#time").value);

            if (valorTime >= 4 && valorTime <= 20) {
                times.length = 0;

                for (let i = 1; i <= valorTime; i++) {
                    let nomeTime = prompt(`Digite o nome para o Time ${i}:`);
                    let novoTime = new Time(nomeTime);
                    times.push(novoTime);
                }
                let partidas = gerarPartidas(times);
                exibirPartidas(partidas);
            } else {
                alert("Número de times deve estar entre 4 e 20");
            }
        }

        function gerarPartidas(times) {
            let partidas = [];
            for (let i = 0; i < times.length; i++) {
                for (let n = i + 1; n < times.length; n++) {
                    partidas.push([times[i], times[n]]);
                }
            }
            return partidas;
        }

        function exibirPartidas(partidas) {
            let html = '<h2> Partidas que irão acontecer <3</h2>';
            for (let i = 0; i < partidas.length; i++) {
                let partida = partidas[i];
                html += `<p>${partida[0].nome} vs. ${partida[1].nome}</p>`;
            }
            html += '<h2> Defina os resultados<3</h2>';
            html += '<form>';
                
            for (let i = 0; i < partidas.length; i++) {
                let partida = partidas[i];
                html += `<p> ${partida[0].nome} vs. ${partida[1].nome}: <input type="text" id="resultado${i}" placeholder='resultado'></p>`;
            }
            html += '<input type="submit" value="Registrar resultados">';
            html += '</form>'; // Feche o formulário aqui
            document.getElementById('partidas').innerHTML = html;
            document.querySelector('form').addEventListener('submit', function (e) {
                e.preventDefault();
                const resultadoPartidas = [];
                for (let i = 0; i < partidas.length; i++) {
                    const resultado = document.querySelector(`#resultado${i}`).value;
                    resultadoPartidas.push({ partida: partidas[i], resultado });
                }
                exibirResultados(resultadoPartidas);
            });
        }

        function exibirResultados(resultados) {
            let html = '<h2>Resultados das partidas:</h2>';
            for (let i = 0; i < resultados.length; i++) {
                const partida = resultados[i].partida;
                const resultado = resultados[i].resultado;
                html += `<p>${partida[0].nome} vs. ${partida[1].nome}: ${resultado}</p>`;
            }
            document.getElementById('resultadoPartidas').innerHTML = html;
        }
    </script>
</body>
</html>